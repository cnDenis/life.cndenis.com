---
Title: 又折腾了一回linux
Layout: post
Category: 折腾电脑
Slug: install_linux_again
Tags: Ubuntu
---

实在觉得Windows10不爽, 于是想装个Linux玩玩. 这个春节除了给博客搬家外, 也在自己的机上装好了个Ubuntu环境. 这两篇博文就是在Ubuntu下写的.

虽然自己工作就编写运行在Linux下的代码, 但我却对折腾这个系统本身不太感兴趣. 反正公司有运维, 线上有云服务, 都是现成装好的系统, 不用自己去折腾. 上一次在自己的机器上装Linux似乎已经是还在学校的时候, 七八年前的事了.

IT界七八年已经是三四个摩尔周期, 跨世代般的遥远了. 折腾起来发现啥都和以前不一样了, 自己落伍好多了.
<!-- PELICAN_END_SUMMARY -->

首先装系统要分区, 找到我用起来最顺手的EPM(吐槽一下, 这软件支持十几种语言, 唯独没有中文版, 但却是国内的公司出品的), 分区表的样子跟以前的不太一样了, 多了好几个不道知做什么的小分区. 查了一下才知道现在的分区表用的是GPT了, 不像以前的MBR需要搞扩展分区. 启动方式也变成了UEFI, 不再叫BIOS了. 把以前的数据盘缩小了一下, 腾出50G的空闲, 就可以准备装系统了.

装啥版本呢? 毕竟是想要一个实用的系统而不是只是单纯的体验一下, 按以前的印像用Ubuntu应该是最省心的, 版本选LTS的, 尽可能减少麻烦.

怎么装呢, 想当年有个东西可以在Windows下装Ubuntu的工具, 叫Wubi, 找了一下发现在五年前就已经不再支持了(再次感慨自己的知识好陈旧...), 我的笔记本没有光驱, 虽然有外置光驱但也没有可以刻录的光盘, 还是找个U盘做启动盘吧.

插上U盘, 重启. 开机狂拍F2, F10, F12, Del, 全试了一遍, 每次都是进了Windows. 放狗搜了一下才发现这联想的机器侧面有个不显眼的专用按钮是用来开启动选项的. 这都行... 真是开眼界了.

U盘引导成功, 寻常设置略过不表, 硬盘分区, 按以前的经验, 根目录给10G, /boot给100M, 其余都是/home, 确定, 开始安装, 拿起手机边玩边等.

回来一看, 报错了, 似乎是复制文件过程中的问题. 重启后直接进Windows, 说明Grub2都还没装上. 难道下载的镜像或是安装盘做得有问下? 查了一下光盘镜像的Hash, 没错, 难道镜像的内容本身有问题? 这可能性也太小了吧. 回Windows在VMware虚拟机里用这个镜像装了一次, 顺利装好进系统. 镜像是没问题的. 重新做了个U盘安装盘, 安装前先运行安装文件检查, 也没有问题, 再装一次, 还是报错, 而且报错的地方和上次还不一样. 难道我的硬盘有坏道? 用HDTune扫全盘, 跑了几个小时, 全是绿块. 试着把分区大小调了一下, 安装终于成功了. 但进系统后安装更新报错, 说是/boot满了. 搜了一下才知道, 原来现在[/boot推荐大小已经是0.5~1GB了](https://serverfault.com/questions/334663/what-is-the-recommended-size-for-a-linux-boot-partition), 最初给的100M连装系统都不够, 后来给了200M能装上系统但不够装更新, 于是我又重新格盘分了1G给/boot, 再重装了一次, 安装系统终于告一段落了.

然后就是各种调教. 先装科学上网的梯子, 装Chrome, 配置代理, 装输入法, 装开发环境, 装Sublime Text, 各种搜索查找折腾略过不表.

然后终于可以开始写Blog啦啦啦, 咦, 怎么打字进Sublime没反应. 放狗一查居然说是Sublime的Bug, 不兼容中文输入法fcitx, 要[打个补丁](https://github.com/lyfeyaj/sublime-text-imfix)并且还要从命令行启动才可以. 而且应用中发现打补丁后还有Bug, 开多个Sublime窗口输入中文会出问题. 这种体验简直让人无语, 真的要用户安慰自己说免费的就不要太高要求么...

终于可以打进字了, 为啥中英混排的地方, 英文比中文要高半行? 这特么太难看了吧. 上网搜好用的等宽字体, 那些介绍十种好看的字体的人都特么是不用中文的高人么? 一个个下载下来试看, 中文显示或是中英混排都是一垞屎. 我在Windows下用的是Consolas, 也有不少人推荐用它和雅黑的混合体, 装上去初看是不错, 但一看Python代码就不对劲, 空格和别的字母居然不是等宽的! 最后还是知乎找到有人推荐这个Iosevka, 至少看起来是正常的字体: 中英文等高, 宽度2:1, 空格与英文等宽.

搞了这么一大通, 终于有个基本能用的桌面了. 就这样的使用体验, Linux的桌面市场可想而知. 整个过程如果不是一个能折腾的程序员估计是难以搞定的. 还想吐槽一下网上的中文信息, 错误的和落后的资料太多了, 照着做就是各种踩雷.

生命在于折腾嘛, 哪天折腾不动了, 那就真的是老了...







